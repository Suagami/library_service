# Запуск сервиса
- Установить Docker
- В директории проекта выполнить команду `docker-compose up`
- Проверить, что сервис доступен по 127.0.0.1

# Конфиги проекта
Все конфиги должны содержаться в файле .env, пример заполнения находится в файле .env.example.

Присутствует контейнеризированная база данных, но также есть возможность указать конфиги по подключению 
собственной базы данных: 
- `DB_NAME` - название БД, 
- `DB_HOST` - хост БД, 
- `DB_USER` - логин пользователя БД, 
- `DB_PASS` - пароль пользователя БД, 
- `DB_PORT` - порт подключения к базе данных.

За read timeout и write timeout на http сервере сервиса отвечают параметры `READ_TIMEOUT` и `WRITE_TIMEOUT` соответственно.

# Результат работы
- ER-диаграмма базы данных содержится в `db_schema.png`
- Описание API-сервиса на Swagger содержится в файле `schema.yml`

# Инструкция по API тестового задания
- Отдавать список книг в библиотеке с возможностью фильтрации по авторам, году издания, отделам и 
наличию/отсутствию экземпляров книги в библиотеке: 

`GET /api/v1/books/`

Параметры фильтрации:
+ author - фильтрация по ID автора
+ publishing_year - фильтрация по году выпуска
+ department - фильтрация по ID отдела
+ is_book_available - фильтрация по наличию(true)/отсутствию(false) экземпляров книги в библиотеке

- Отдавать список посетителей в котором указано общее количество экземпляров книг на руках.

`GET /api/v1/customers/`

Информация об общем количестве экземпляров книг на руках содержится в атрибуте `taken_book_count`.

- Отдавать подробную информацию по посетителю с полным списком взятых на руки книг.

`GET /api/v1/customers/{customer_id}/`, где `customer_id` - ID пользователя.

Информация об полном списке взятых на руки книг содержится в атрибуте `taken_books`.

- Выдавать конкретному посетителю экземпляр книги на руки. И принимать его обратно.

Выдача и прием книг осуществляется следующим запросом: 
`PATCH /api/v1/book_copies/{book_copy_id}/`, где `book_copy_id` - ID экземпляра книги.

Для приема книги тело запроса должно выглядеть следующим образом: 
`{"taken_by": null}`

Для выдачи книги тело запроса должно выглядеть следующим образом:
`{"taken_by": customer_id}`, где `customer_id` - ID пользователя.

- Возможность добавлять и удалять посетителей.
Для добавления пользователя используется запрос `POST /api/v1/customers/` 
с телом запроса `{"name": customer_name}`, где `customer_name` - имя пользователя.

Для удаления пользователя используется запрос `DELETE /api/v1/customers/{customer_id}/`, 
где `customer_id` - ID пользователя. 

- Возможность добавлять и удалять отделы.
Для добавления отдела используется запрос `POST /api/v1/departments/` 
с телом запроса `{"name": department_name}`, где `department_name` - название отдела.

Для удаления отдела используется запрос `DELETE /api/v1/departments/{department_id}/`, 
где `department_id` - ID отдела. 

- Выдавать список существующих отделов.

`GET /api/v1/departments/`